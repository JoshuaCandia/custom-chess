@import "tailwindcss";

/* ── Color mode tokens ──────────────────────────────────────────────────── */
:root {
  --c-bg:           #1c1512;
  --c-surface:      #231b10;
  --c-surface-2:    rgba(240,217,181,0.05);
  --c-text:         #e8d5b7;
  --c-text-muted:   rgba(232,213,183,0.52);
  --c-text-faint:   rgba(232,213,183,0.28);
  --c-accent:       #c8a56a;
  --c-accent-hover: #d4b47a;
  --c-accent-dim:   rgba(200,162,96,0.12);
  --c-border:       rgba(200,162,96,0.18);
  --c-border-faint: rgba(200,162,96,0.1);
  --c-win:          #4ade80;
  --c-loss:         rgba(239,68,68,0.75);
  --c-draw:         rgba(200,162,96,0.7);
}

html.light {
  --c-bg:           #e8dfd3;
  --c-surface:      #f7f2ea;
  --c-surface-2:    rgba(0,0,0,0.06);
  --c-text:         #19100a;
  --c-text-muted:   rgba(25,16,10,0.65);
  --c-text-faint:   rgba(25,16,10,0.42);
  --c-accent:       #86551a;
  --c-accent-hover: #9d6520;
  --c-accent-dim:   rgba(134,85,26,0.15);
  --c-border:       rgba(134,85,26,0.35);
  --c-border-faint: rgba(134,85,26,0.2);
  --c-win:          #166534;
  --c-loss:         #b91c1c;
  --c-draw:         rgba(106,68,10,0.85);
}

@layer base {
  body {
    font-family: "Inter", system-ui, sans-serif;
    background-color: var(--c-bg);
    color: var(--c-text);
    min-height: 100svh;
    margin: 0;
    transition: background-color 0.2s ease, color 0.2s ease;
  }
}

/* ── Component classes ───────────────────────────────────────────────────── */
/* Use these instead of inline styles. Layout → Tailwind. Color → CSS classes. */

/* Text colors */
.text-c-base   { color: var(--c-text); }
.text-c-muted  { color: var(--c-text-muted); }
.text-c-faint  { color: var(--c-text-faint); }
.text-c-accent { color: var(--c-accent); }
.text-c-win    { color: var(--c-win); }
.text-c-loss   { color: var(--c-loss); }
.text-c-draw   { color: var(--c-draw); }

/* Background colors */
.bg-c-bg       { background: var(--c-bg); }
.bg-c-surface  { background: var(--c-surface); }
.bg-c-surface2 { background: var(--c-surface-2); }
.bg-c-accent   { background: var(--c-accent); }
.bg-c-dim      { background: var(--c-accent-dim); }

/* Border colors */
.border-c      { border-color: var(--c-border); }
.border-c-faint{ border-color: var(--c-border-faint); }

/* Card / panel */
.card {
  background: var(--c-surface);
  border: 1px solid var(--c-border-faint);
  border-radius: 16px;
  padding: 20px;
}

/* Section label */
.label-xs {
  font-size: 0.68rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--c-text-faint);
}

/* Form input */
.input-field {
  background: var(--c-surface);
  border: 1px solid var(--c-border-faint);
  color: var(--c-text);
  border-radius: 10px;
  padding: 10px 14px;
  font-size: 0.875rem;
  outline: none;
  width: 100%;
  transition: border-color 0.15s;
}
.input-field:focus  { border-color: var(--c-accent); }
.input-field::placeholder { color: var(--c-text-faint); }
.input-field.auto-width    { width: auto; }

/* Buttons — base */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.825rem;
  border-radius: 10px;
  padding: 8px 14px;
  transition: all 0.15s;
  border: none;
  line-height: 1.2;
  white-space: nowrap;
}

/* Primary — filled accent */
.btn-primary {
  background: var(--c-accent);
  color: var(--c-bg);
  border: none;
  width: 100%;
  padding: 13px;
  font-size: 0.9rem;
  border-radius: 12px;
}
.btn-primary:hover  { opacity: 0.88; }
.btn-primary:active { transform: scale(0.98); }

/* Secondary — subtle surface */
.btn-secondary {
  background: var(--c-surface-2);
  color: var(--c-text);
  border: 1px solid var(--c-border);
}
.btn-secondary:hover { background: var(--c-border-faint); }

/* Ghost — transparent */
.btn-ghost {
  background: none;
  color: var(--c-text-faint);
  border: 1px solid var(--c-border-faint);
}
.btn-ghost:hover { color: var(--c-text-muted); border-color: var(--c-border); }

/* Accent outline */
.btn-accent-outline {
  background: var(--c-accent-dim);
  color: var(--c-accent);
  border: 1px solid var(--c-border);
}
.btn-accent-outline:hover { background: var(--c-border); }

/* Danger */
.btn-danger {
  background: rgba(239, 68, 68, 0.12);
  color: var(--c-loss);
  border: 1px solid rgba(239, 68, 68, 0.3);
}
.btn-danger:hover { background: rgba(239, 68, 68, 0.22); }

/* Time control toggle button */
.btn-tc {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: 10px 4px;
  border-radius: 10px;
  font-size: 0.875rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s;
  background: var(--c-surface-2);
  color: var(--c-text-muted);
  border: 2px solid var(--c-border-faint);
  width: 100%;
}
.btn-tc:hover   { border-color: var(--c-border); color: var(--c-text); }
.btn-tc.active  { background: var(--c-accent); color: var(--c-bg); border-color: transparent; }

/* Horizontal divider */
.divider {
  height: 1px;
  background: var(--c-border-faint);
  border: none;
  margin: 0;
}

/* Nav header (reusable across pages) */
.page-nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  height: 52px;
  flex-shrink: 0;
  border-bottom: 1px solid var(--c-border-faint);
  background: var(--c-surface);
}

/* Error banner */
.error-banner {
  padding: 10px 14px;
  border-radius: 10px;
  background: rgba(185, 28, 28, 0.1);
  color: var(--c-loss);
  border: 1px solid rgba(185, 28, 28, 0.2);
  font-size: 0.85rem;
}

/* Desktop sidebar */
.desktop-sidebar {
  position: fixed;
  top: 0; left: 0;
  width: 200px;
  height: 100svh;
  background: var(--c-surface);
  border-right: 1px solid var(--c-border-faint);
  display: flex;
  flex-direction: column;
  z-index: 30;
}
.sidebar-logo {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 18px 16px 14px;
  border-bottom: 1px solid var(--c-border-faint);
}
.sidebar-nav {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 10px 8px;
  gap: 2px;
}
.sidebar-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 9px 12px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  color: var(--c-text-faint);
  font-size: 0.875rem;
  font-weight: 500;
  width: 100%;
  text-align: left;
  transition: all 0.15s;
}
.sidebar-item.active { color: var(--c-accent); background: var(--c-accent-dim); font-weight: 600; }
.sidebar-item:hover:not(.active) { color: var(--c-text-muted); background: var(--c-surface-2); }
.sidebar-icon { font-size: 1.05rem; width: 20px; text-align: center; }
.sidebar-footer {
  padding: 12px;
  border-top: 1px solid var(--c-border-faint);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Mobile bottom navigation */
.mobile-nav {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: calc(60px + env(safe-area-inset-bottom));
  padding-bottom: env(safe-area-inset-bottom);
  background: var(--c-surface);
  border-top: 1px solid var(--c-border-faint);
  display: flex;
  align-items: center;
  justify-content: space-around;
  z-index: 40;
}
.mobile-nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3px;
  padding: 8px 4px;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--c-text-faint);
  font-size: 0.6rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: color 0.15s;
}
.mobile-nav-item.active { color: var(--c-accent); }
.mobile-nav-item:hover  { color: var(--c-text-muted); }
.mobile-nav-icon { font-size: 1.25rem; line-height: 1; }

/* Center FAB button */
.mobile-nav-fab {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3px;
  padding: 4px;
  background: none;
  border: none;
  cursor: pointer;
  flex: 1;
}
.mobile-nav-fab-circle {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: var(--c-accent);
  color: var(--c-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  box-shadow: 0 4px 16px rgba(0,0,0,0.3);
  transition: transform 0.15s, opacity 0.15s;
  margin-top: -16px;
}
.mobile-nav-fab:hover .mobile-nav-fab-circle { opacity: 0.88; }
.mobile-nav-fab:active .mobile-nav-fab-circle { transform: scale(0.95); }
.mobile-nav-fab-label {
  font-size: 0.6rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--c-accent);
}
.mobile-nav-spacer {
  height: calc(60px + env(safe-area-inset-bottom));
  flex-shrink: 0;
}

/* Animations */
@keyframes dot {
  0%, 80%, 100% { opacity: 0.2; transform: scale(0.85); }
  40%           { opacity: 0.9; transform: scale(1); }
}
@keyframes modal-in {
  from { opacity: 0; transform: scale(0.92); }
  to   { opacity: 1; transform: scale(1); }
}
@keyframes badge-pop {
  from { opacity: 0; transform: scale(0.55); }
  to   { opacity: 1; transform: scale(1); }
}

/* Puzzle board move-feedback overlay */
.puzzle-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  pointer-events: none;
  z-index: 10;
}
.puzzle-overlay-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  background: var(--c-surface);
  border: 3px solid;
  border-radius: 18px;
  padding: 14px 30px;
  animation: badge-pop 0.18s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.puzzle-overlay-icon {
  font-size: 2.75rem;
  line-height: 1;
  font-weight: 900;
}
.puzzle-overlay-text {
  font-size: 0.72rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}
.puzzle-overlay-correct { color: var(--c-win);    border-color: var(--c-win); }
.puzzle-overlay-wrong   { color: var(--c-loss);   border-color: var(--c-loss); }
.puzzle-overlay-solved  { color: var(--c-accent); border-color: var(--c-accent); }

/* Puzzle hub filter cards */
.puzzle-filter-card {
  background: var(--c-surface);
  border: 1px solid var(--c-border-faint);
  border-radius: 12px;
  padding: 14px;
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  display: flex;
  flex-direction: column;
  gap: 4px;
  text-align: left;
}
.puzzle-filter-card:hover {
  border-color: var(--c-border);
  background: var(--c-surface-2);
}
.puzzle-filter-card.active {
  border-color: var(--c-accent);
  background: var(--c-accent-dim);
}
.puzzle-filter-card:disabled {
  opacity: 0.45;
  cursor: not-allowed;
}

/* Vertical divider (stats) */
.divider-v {
  width: 1px;
  height: 32px;
  background: var(--c-border-faint);
  flex-shrink: 0;
}

/* Puzzle hub solved overlay */
.puzzle-solved-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  pointer-events: none;
}
.puzzle-solved-icon {
  font-size: 2.5rem;
  color: var(--c-win);
  filter: drop-shadow(0 2px 8px rgba(0,0,0,0.4));
}
